<div class="container h-100">
  <div class="d-flex justify-content-between">
    <h3 class="mt-3">All Products</h3>
    <div class="mt-3 d-flex justify-content-center align-items-center">
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control input"
          placeholder="search"
          aria-label="Recipient's username"
          aria-describedby="button-addon2"
        />
        <button
          class="btn btn-outline-secondary input"
          type="button"
          id="button-addon2"
        >
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </div>
    </div>
    <div>
      <a routerLink="/newproduct" class="nav-link link-light">
        <button type="button" class="btn creat mt-3">
          <i class="fa-solid fa-plus me-3 plus"></i>Add New Product
        </button>
      </a>
    </div>
  </div>
  <div class="container content mt-4">
    <form (ngSubmit)="AddNewProduct()" #addProduct="ngForm">
      <div class="mb-3 mt-3">
        <label class="me-2">title: </label>
        <input
          class="form-control"
          placeholder="Enter Product Name (required)"
          type="text"
          [(ngModel)]="product.title"
          name="title"
          required
          minlength="4"
          #productName="ngModel"
          [ngClass]="{
            'is-invalid':
              (productName.touched || productName.dirty) && productName.invalid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="productName.errors?.['required']"
            >product name is required
          </span>
          <span *ngIf="productName.errors?.['minlength']"
            >product name must be at least 4 characters
          </span>
        </span>
      </div>
      <div class="mb-3 mt-3">
        <label class="me-2">title_ar:</label>
        <input
          class="form-control"
          placeholder="Enter Product Name (required)"
          type="text"
          [(ngModel)]="product.title_ar"
          name="title_ar"
          required
          minlength="4"
          #productName="ngModel"
          [ngClass]="{
            'is-invalid':
              (productName.touched || productName.dirty) && productName.invalid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="productName.errors?.['required']"
            >product name is required
          </span>
          <span *ngIf="productName.errors?.['minlength']"
            >product name must be at least 4 characters
          </span>
        </span>
      </div>

      <div class="mb-3 mt-3">
        <label class="me-2">description:</label>
        <input
          class="form-control"
          placeholder="Enter Product Name (required)"
          type="text"
          [(ngModel)]="product.description"
          name="description"
          required
          minlength="4"
          #productName="ngModel"
          [ngClass]="{
            'is-invalid':
              (productName.touched || productName.dirty) && productName.invalid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="productName.errors?.['required']"
            >product name is required
          </span>
          <span *ngIf="productName.errors?.['minlength']"
            >product name must be at least 4 characters
          </span>
        </span>
      </div>

      <div class="mb-3 mt-3">
        <label class="me-2">description_ar:</label>
        <input
          class="form-control"
          placeholder="Enter Product Name (required)"
          type="text"
          [(ngModel)]="product.description_ar"
          name="description_ar"
          required
          minlength="4"
          #productName="ngModel"
          [ngClass]="{
            'is-invalid':
              (productName.touched || productName.dirty) && productName.invalid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="productName.errors?.['required']"
            >product name is required
          </span>
          <span *ngIf="productName.errors?.['minlength']"
            >product name must be at least 4 characters
          </span>
        </span>
      </div>

      <div class="mb-3">
        <label class="me-2">Price:</label>
        <input
          class="form-control"
          placeholder="Enter Product price (required)"
          type="number"
          [(ngModel)]="product.price"
          name="price"
          required
          #productPrice="ngModel"
          [ngClass]="{
            'is-invalid':
              (productPrice.touched || productPrice.dirty) &&
              productPrice.invalid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="productPrice.errors?.['required']"
            >product price is required
          </span>
        </span>
      </div>
      <div class="mb-3">
        <label class="me-2">quantity:</label>
        <input
          class="form-control"
          placeholder="Enter Product quantity (required)"
          type="number"
          [(ngModel)]="product.quantity"
          name="quantity"
          required
          #productquantity="ngModel"
          [ngClass]="{
            'is-invalid':
              (productquantity.touched || productquantity.dirty) &&
              productquantity.invalid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="productquantity.errors?.['required']"
            >product quantity is required
          </span>
        </span>
      </div>

      <div class="mb-3">
        <label class="me-2">Category:</label>
        <select
          class="form-control"
          [(ngModel)]="product.category"
          name="category"
          required
          #productcategory="ngModel"
          [ngClass]="{
            'is-invalid':
              (productcategory.touched || productcategory.dirty) &&
              productcategory.invalid
          }"
        >
          <option *ngFor="let category of AllCategories" [value]="category._id">
            {{ category.name }}
          </option>
        </select>
        <span class="invalid-feedback">
          <span *ngIf="productcategory.errors?.['required']"
            >product category is required
          </span>
        </span>
      </div>

      <div class="mb-3">
        <label class="me-2">subCategory:</label>
        <select
          class="form-control"
          [(ngModel)]="product.subcategory"
          name="subcategory"
          required
          #productcategory="ngModel"
          [ngClass]="{
            'is-invalid':
              (productcategory.touched || productcategory.dirty) &&
              productcategory.invalid
          }"
        >
          <option
            *ngFor="let subCategory of AllSubCategories"
            [value]="subCategory._id"
          >
            {{ subCategory.name }}
          </option>
        </select>
        <span class="invalid-feedback">
          <span *ngIf="productcategory.errors?.['required']"
            >product category is required
          </span>
        </span>
      </div>

      <div class="mb-3 mt-3">
        <label class="me-2">thumbnail:</label>
        <input
          placeholder="Enter Product image (required)"
          class="form-control"
          type="text"
          [(ngModel)]="product.thumbnail"
          name="thumbnail"
          required
          #productimage="ngModel"
          [ngClass]="{
            'is-invalid':
              (productimage.touched || productimage.dirty) &&
              productimage.invalid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="productimage.errors?.['required']"
            >product image is required
          </span>
        </span>
      </div>

      <div class="mb-3 mt-3">
        <label class="me-2">img url:</label>
        <input
          placeholder="Enter Product image (required)"
          class="form-control"
          type="text"
          [(ngModel)]="product.images"
          name="images"
          required
          #productimage="ngModel"
          [ngClass]="{
            'is-invalid':
              (productimage.touched || productimage.dirty) &&
              productimage.invalid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="productimage.errors?.['required']"
            >product image is required
          </span>
        </span>
      </div>
      <button type="submit" class="mb-3" [disabled]="addProduct.invalid">
        Add Product
      </button>
    </form>
  </div>
</div>
